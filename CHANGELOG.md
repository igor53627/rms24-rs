# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/).

## [Unreleased] (v0.1.0)

### Added

- Project scaffolding with params (`c644942`)
- HMAC-SHA256 PRF module (`57c7ef2`)
- Hint state and utilities (`16527ce`)
- CPU hint generation (`46a0175`)
- CUDA hint generation kernel (`2bd397a`)
- GPU hint generator bindings (`979c1d4`)
- Modal GPU benchmark script (`3ed2b04`)
- Warp-optimized GPU hint generation kernel (`cfe162d`)
- Synthetic database option for quick testing (`ab256dd`)
- Multi-GPU support for distributed hint generation (`5d80c6b`)
- Distributed hint generation with shared Phase 1 (`aca71a0`)
- PyTorch kernel for Forge optimization (`e5455a9`)
- Production-grade CPU and GPU hint generation optimizations (`cf8de20`)
- Schema40 helpers (`5eed029`)
- Online message types (`8901ef9`)
- Server and db trait (`76fefc1`)
- Online client state and serialization (`b50c94a`)
- Query subset flow and parity extraction (`9badf2e`)
- Hint consumption and replenish (`25494ba`)
- Point update flow (`f20cb7e`)
- Schema40 v3 constants and tag/code id (`94dfa18`)
- Schema40 v3 account entry (`39c70d5`)
- Schema40 v3 storage entry (`edf4d76`)
- Schema40 code store (`0ab09db`)
- Online protocol types (`00073b5`, `bb37bed`, `031c160`, `3c3e3bf`)
- Online framing helpers (`362a472`)
- Online transport abstraction (`5aa260e`)
- Online server core (`6db0c94`)
- Online client core (`8a03211`)
- Online client network query helpers (`ad3060b`)
- Benchmark protocol types (`29103f6`)
- Benchmark TCP framing (`247af82`)
- RMS24 benchmark server (`bd7c3f3`)
- RMS24 benchmark client (`94b1da0`)
- Benchmark harness script skeleton (`1c86918`)
- Benchmark harness steps (`856717a`)
- Coverage index helpers (`77d27f8`)
- Static decode helper (`94a94e1`)
- Coverage index flag to client (`c0509c7`)
- Timing helper for benchmarks (`4a1df22`)
- Timing flags to rms24 client (`4870ad1`)
- Timing flags to rms24 server (`22ae882`)
- Subset cache for client hints (`4320ae7`)
- Coverage index via env var (`e2aca14`)
- Batch frames to bench protocol (`31be4a0`)
- Bench frame handler for batching (`9a91a73`)
- Batch handling to rms24 server (`d103b3e`)
- Batching to rms24 client (`646ca8e`)
- keyword_pir module skeleton and mapping parse (`9110188`)
- Cuckoo hashing core for keyword_pir (`b39c260`)
- KeywordPIR builder binary (`38fca16`)
- KeywordPIR client wrapper (`95ca5f4`)
- KeywordPIR mode to benchmark client (`a3b2b97`)
- KeywordPIR bench protocol flow (`1c4d2dd`)

### Fixed

- Add cuda-12040 feature to cudarc (`eea3095`)
- Add padding to Rms24Params for Pod derive (`f1b938a`)
- Run CPU Phase 1 before GPU init (`3c32a9a`)
- Add stdout flush for Modal output visibility (`f6cbad1`)
- Support synthetic db in modal script (`da9b554`)
- Clean up GPU validation and benchmarks (`9b7311f`)
- Address python/script lint issues (`e3727df`)
- Clarify forge_v2 docs and prf key cast (`785258e`)
- Align prf select/offset with vector stream (`677d90b`)
- Export server module (`62d6b4e`)
- Align replenished hints with PRF id (`7ada370`)
- Handle extra-entry update overlap (`e07d63c`)
- Correct benchmark binary names (`f5d9375`)
- Derive server block size from params (`d9816ab`)
- Make subset generation deterministic (`114b052`)
- Set tcp read/write timeouts in client (`d38de0e`)
- Avoid logging timing at count 0 (`0dcf61b`)
- Handle server deserialize errors without panic (`6551f84`)
- Avoid selecting unavailable hints from coverage index (`b59dadb`)
- Handle zero subset size in forge_v2 (`fadee1b`)
- Bound bench framing payload size (`0347c77`)
- Address coderabbit followups (`b8130bf`)
- Harden keywordpir subset handling (`e964506`)
- Restore batch query cap for keywordpir (`6bf0e3d`)
- Scale keywordpir batch budget and builder slack (`bf3d614`)
- Reject empty keywordpir subsets and avoid bucket rounding (`27fa56b`)
- Persist collision buckets in keywordpir metadata (`652a1cb`)
- Allow legacy keywordpir metadata and validate collision capacity (`51c35fc`)
- KeywordPIR coverage guard and collision entry size (`3789b80`)

### Changed

- Switch PRF from HMAC-SHA256 to ChaCha12 (`34e4921`)

### Performance

- Parallelize Phase 1 subset generation with rayon (`3febe1a`)
- Speed up online query candidate search (`a84222c`)
- Parallelize hint generation (`30a585f`)

### Documentation

- Add KANBAN with next steps (`dc4683f`)
- Update KANBAN with H200 benchmark results (`6b42350`)
- Update benchmark results with warp kernel performance (`32c6e91`)
- Add multi-GPU benchmark results (`cc3c7d7`)
- Add distributed benchmark results (`72bf9e2`)
- Update benchmark results â€” 22,855 hints/sec on 50 H200s (`6accd17`)
- Add architecture diagrams (`9bfe4cd`)
- Move design and plan notes from rms24 (`e461c4a`)
- Add baseline docs and worktree ignore (`3cdf788`)
- Add schema40 v3 plan (`88539b3`)
- Add online protocol design (`a77dc93`, `a8a49ba`)
- Document online protocol (`c84a1c3`)
- Add online protocol implementation plan (`b937b99`)
- Add coverage index design (`a2356c6`)
- Document coverage index flag (`8c662e2`)
- Add coverage index implementation plan (`36c38dc`)
- Add client state cache design (`0b9ee01`, `1f95293`)
- Add updated benchmark implementation plan (`2c2f931`)
- Add runtime optimizations design (`6381518`)
- Document timing flags (`0d69372`)
- Document subset cache and coverage env (`e43f4a4`)
- Add batching flags (`7580411`)
- Add batching implementation plan (`4ed4135`)
- Add rms24 batching q200 report (`f5ad3e7`)
- Add keywordpir implementation plan (`ae405f3`)
- Add coderabbit fix plan (`0f5a114`)
- Fix report inconsistencies and plan issues (`6d522d4`)
- Refresh kanban priorities (`2ddebb9`)
- Update kanban and keywordpir plan (`2f031af`)
- Clarify keywordpir collision routing (`cd33aea`)

### Tests

- Integration tests for hint generation (`633bd00`)
- CPU hint generation benchmark (`87bba5d`)
- Correctness tests for PyTorch hint kernel (`3b89e5d`)
- Fix median cutoff tests (`4bbefa9`)
- Stabilize hint_gen integration tests (`149f425`)
- Strengthen schema40 tests (`07be3a4`)
- Add optional real-slice online test (`26483b8`)
- Select covered indices in real-slice test (`c0bccf0`)
- Refresh sequential real-slice targets (`98b80da`)
- Add timing helper smoke test (`5709d13`)
- Cover subset cache reuse (`b3c25c5`)
- Ensure cached queries match uncached (`c091429`)
- Select covered index in coverage query test (`d3a47b4`)
- Guard RMS24_COVERAGE_INDEX env var (`820df22`)

### Chores

- Add serde, bincode, sha3 deps (`e38d694`)
- Drop unused bench import (`3287f3c`)
- Ignore .DS_Store (`c5f1654`)
- Snapshot root worktree changes (`05a2490`)
- Client state cache and progress logs (`1fce467`)
